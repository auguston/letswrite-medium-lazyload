<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>像Medium的漸近式圖片加載</title>
  <link rel="canonical" href="https://auguston.github.io/letswrite-medium-lazyload/"/>

  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css">
  <link rel="stylesheet" href="m-lazyload.css?v=2">

  <link rel="shortcut icon" href="https://i0.wp.com/letswrite.tw/wp-content/uploads/2019/07/cropped-letswrite512-1.jpg"/>

  <!-- Google Tag Manager-->
  <script>
    (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-PGQ9WQT');
  </script>

</head>
<body>
  <!-- Google Tag Manager (noscript)-->
  <noscript>
    <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PGQ9WQT" height="0" width="0" style="display:none;visibility:hidden"></iframe>
  </noscript>

  <!--
    參考文章：
      //blog.botreetechnologies.com/page-load-optimization-by-progressive-image-loading-like-medium-1d0f94744a4d
  -->

  <div class="container">

    <h1>像Medium的漸近式圖片加載</h1>

    <div class="contents">

      <div class="info">
        <p>說明文章</p>
        <ul>
          <li>
            <a href="https://letswrite.tw/medium-lazyload/" target="_blank">像Medium的漸近式圖片加載</a>
          </li>
        </ul>
        <p>Github原始檔</p>
        <ul>
          <li>
            <a href="https://github.com/auguston/letswrite-medium-lazyload" target="_blank">auguston/medium-lazy-load</a>
          </li>
        </ul>
        <p>相依套件：</p>
        <ul>
          <li>
            <a href="//jquery.com/" target="_blank">jQuery</a>
          </li>
          <li>
            <a href="//imakewebthings.com/waypoints/" target="_blank">waypoints</a>
          </li>
        </ul>
      </div>

      <!-- 16:9 -->
      <section>
        <h2>16:9的範例</h2>
        <div class="lazy-image w16-9">
          <figure>
            <!--
              .js-get-img 用js抓原始大圖資訊
              style 裡的 background-image 放 placeholder 作用的小圖
              data-img 放原始大圖的路徑
            -->
            <div
              class="small js-get-img"
              style="background-image: url(img/16-9-1-s.jpg)"
              data-img="img/16-9-1.jpg"
            >
            </div>
          </figure>
        </div>
  
        <div class="lazy-image w16-9">
          <figure>
            <div class="small js-get-img" style="background-image: url(img/16-9-2-s.jpg)" data-img="img/16-9-2.jpg">
            </div>
          </figure>
        </div>
  
        <div class="lazy-image w16-9">
          <figure>
            <div class="small js-get-img" style="background-image: url(img/16-9-3-s.jpg)" data-img="img/16-9-3.jpg">
            </div>
          </figure>
        </div>
      </section>

      <!-- 4:3 -->
      <section>
        <h2>4:3的範例</h2>
        <div class="lazy-image w4-3">
          <figure>
            <div class="small js-get-img" style="background-image: url(img/4-3-1-s.jpg)" data-img="img/4-3-1.jpg">
            </div>
          </figure>
        </div>
  
        <div class="lazy-image w4-3">
          <figure>
            <div class="small js-get-img" style="background-image: url(img/4-3-2-s.jpg)" data-img="img/4-3-2.jpg">
            </div>
          </figure>
        </div>
  
        <div class="lazy-image w4-3">
          <figure>
            <div class="small js-get-img" style="background-image: url(img/4-3-3-s.jpg)" data-img="img/4-3-3.jpg">
            </div>
          </figure>
        </div>
      </section>

      <!-- scroll -->
      <section>
        <h2>圖片高度不限，用js抓取圖片比例的範例</h2>
        <!--
          自由尺寸，class 用 w-free
          data-width 放原圖的寬
          data-height 放原圖的長
        -->
        <div class="lazy-image w-free">
          <figure>
            <div class="small js-get-img" style="background-image: url(img/free-1-s.jpg)" data-img="img/free-1.jpg" data-width="960" data-height="640">
            </div>
          </figure>
        </div>

        <div class="lazy-image w-free">
          <figure>
            <div class="small js-get-img" style="background-image: url(img/free-2-s.jpg)" data-img="img/free-2.jpg" data-width="960" data-height="635">
            </div>
          </figure>
        </div>

        <div class="lazy-image w-free">
          <figure>
            <div class="small js-get-img" style="background-image: url(img/free-3-s.jpg)" data-img="img/free-3.jpg" data-width="960" data-height="540">
            </div>
          </figure>
        </div>
      </section>

    </div>


  </div>


  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/waypoints/4.0.1/noframework.waypoints.min.js"></script>
  <script src="m-lazyload.js?v=2"></script>
  
</body>
</html>