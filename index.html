<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>像Medium的漸近式圖片加載</title>

  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css">
  <link rel="stylesheet" href="m-lazyload.css?v=2">
</head>
<body>
  <!--
    參考文章：
      https://blog.botreetechnologies.com/page-load-optimization-by-progressive-image-loading-like-medium-1d0f94744a4d
  -->

  <div class="container">

    <h1>像Medium的漸近式圖片加載</h1>

    <div class="contents">

      <!-- 16:9 -->
      <section>
        <h2>16:9的範例</h2>
        <div class="lazy-image w16-9">
          <figure>
            <!--
              .js-get-img 用js抓原始大圖資訊
              style 裡的 background-image 放 placeholder 作用的小圖
              data-img 放原始大圖的路徑
            -->
            <div
              class="small js-get-img"
              style="background-image: url(img/16-9-1-s.jpg)"
              data-img="img/16-9-1.jpg"
            >
            </div>
          </figure>
        </div>
  
        <div class="lazy-image w16-9">
          <figure>
            <div class="small js-get-img" style="background-image: url(img/16-9-2-s.jpg)" data-img="img/16-9-2.jpg">
            </div>
          </figure>
        </div>
  
        <div class="lazy-image w16-9">
          <figure>
            <div class="small js-get-img" style="background-image: url(img/16-9-3-s.jpg)" data-img="img/16-9-3.jpg">
            </div>
          </figure>
        </div>
      </section>

      <!-- 4:3 -->
      <section>
        <h2>4:3的範例</h2>
        <div class="lazy-image w4-3">
          <figure>
            <div class="small js-get-img" style="background-image: url(img/4-3-1-s.jpg)" data-img="img/4-3-1.jpg">
            </div>
          </figure>
        </div>
  
        <div class="lazy-image w4-3">
          <figure>
            <div class="small js-get-img" style="background-image: url(img/4-3-2-s.jpg)" data-img="img/4-3-2.jpg">
            </div>
          </figure>
        </div>
  
        <div class="lazy-image w4-3">
          <figure>
            <div class="small js-get-img" style="background-image: url(img/4-3-3-s.jpg)" data-img="img/4-3-3.jpg">
            </div>
          </figure>
        </div>
      </section>

      <!-- scroll -->
      <section>
        <h2>圖片高度不限，用js抓取圖片比例的範例</h2>
        <!--
          自由尺寸，class 用 w-free
          data-width 放原圖的寬
          data-height 放原圖的長
        -->
        <div class="lazy-image w-free">
          <figure>
            <div class="small js-get-img" style="background-image: url(img/free-1-s.jpg)" data-img="img/free-1.jpg" data-width="960" data-height="640">
            </div>
          </figure>
        </div>

        <div class="lazy-image w-free">
          <figure>
            <div class="small js-get-img" style="background-image: url(img/free-2-s.jpg)" data-img="img/free-2.jpg" data-width="960" data-height="635">
            </div>
          </figure>
        </div>

        <div class="lazy-image w-free">
          <figure>
            <div class="small js-get-img" style="background-image: url(img/free-3-s.jpg)" data-img="img/free-3.jpg" data-width="960" data-height="540">
            </div>
          </figure>
        </div>
      </section>

    </div>


  </div>


  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/waypoints/4.0.1/noframework.waypoints.min.js"></script>
  <script src="m-lazyload.js?v=2"></script>
  
</body>
</html>